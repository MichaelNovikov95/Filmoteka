var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){a[e]=t},e.parcelRequired7c6=n);var r=n("1ikH7");n("9t6Mr");var l=n("38cRt"),o=n("7ol1T"),d=n("5MPmM");n("lN7l5");var c=n("dbdo4");n("dbdo4"),n("dbdo4"),c=n("dbdo4");n("lN7l5"),d.refs.btnHeaderEl.addEventListener("click",g),d.refs.galleryEl.addEventListener("click",c.onGalleryContainerClick);const i=new(0,l.MovieApi),s=(0,o.getOnLocalStorage)("queue")||[],u=(0,o.getOnLocalStorage)("watched")||[];async function f(e){try{const t=(await async function(e){const t=e.map((async e=>{i.id=e;return await i.fetchMovieById()}));return await Promise.all(t)}(e)).map((e=>e.data)),a=t.map((e=>e.genres.map((e=>e.id||[]))));t.map(((e,t)=>e.genre_ids=a[t]));d.refs.galleryEl.innerHTML=(0,r.makeMarkup)(t)}catch(e){console.log(e.message)}}function g(e){"BUTTON"===e.target.nodeName&&("watched"===e.target.dataset.action?(f(u),d.refs.btnGelleryWatchedEl.classList.add("active"),d.refs.btnGelleryQueueEl.classList.remove("active")):(e.target.dataset.action,f(s),d.refs.btnGelleryQueueEl.classList.add("active"),d.refs.btnGelleryWatchedEl.classList.remove("active")))}0!==s.length?f(s):console.log("no queue"),d.refs.btnHeaderEl.addEventListener("click",g),c.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&(0,c.closeModal)()})),document.addEventListener("keydown",(function(e){"Escape"===e.code&&(0,c.closeModal)()}));
//# sourceMappingURL=library.b0fe25c9.js.map
