var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){a[e]=t},e.parcelRequired7c6=n);var r=n("1ikH7");n("9t6Mr");var l=n("38cRt"),o=n("7ol1T"),c=n("5MPmM");n("lN7l5");var d=n("dbdo4");n("dbdo4"),n("dbdo4"),d=n("dbdo4");n("lN7l5");var i=n("5o4cU");c.refs.btnHeaderEl.addEventListener("click",v),c.refs.galleryEl.addEventListener("click",d.onGalleryContainerClick);const s=new(0,l.MovieApi),u=(0,o.getOnLocalStorage)(i.localStorageKeyQueue)||[],f=(0,o.getOnLocalStorage)(i.localStorageKeyWatched)||[];async function g(e){try{const t=(await async function(e){const t=e.map((async e=>{s.id=e;return await s.fetchMovieById()}));return await Promise.all(t)}(e)).map((e=>e.data)),a=t.map((e=>e.genres.map((e=>e.id||[]))));t.map(((e,t)=>e.genre_ids=a[t]));c.refs.galleryEl.innerHTML=(0,r.makeMarkup)(t)}catch(e){console.log(e.message)}}function v(e){"BUTTON"===e.target.nodeName&&("watched"===e.target.dataset.action?(g(f),c.refs.btnGelleryWatchedEl.classList.add("active"),c.refs.btnGelleryQueueEl.classList.remove("active")):(e.target.dataset.action,g(u),c.refs.btnGelleryQueueEl.classList.add("active"),c.refs.btnGelleryWatchedEl.classList.remove("active")))}0!==u.length?g(u):console.log("no queue"),c.refs.btnHeaderEl.addEventListener("click",v),d.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&(0,d.closeModal)()})),document.addEventListener("keydown",(function(e){"Escape"===e.code&&(0,d.closeModal)()}));
//# sourceMappingURL=library.54a5e9e2.js.map
