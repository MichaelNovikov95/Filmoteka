var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in a){var o=a[e];delete a[e];var n={id:e,exports:{}};return t[e]=n,o.call(n.exports,n,n.exports),n.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){a[e]=t},e.parcelRequired7c6=o);var n=o("1ikH7");o("9t6Mr");var l=o("38cRt"),r=o("7ol1T"),c=o("5MPmM");o("lN7l5");var d=o("dbdo4");o("dbdo4"),o("dbdo4"),d=o("dbdo4");o("lN7l5");var s=o("5o4cU");console.log(window.location.href),c.refs.btnHeaderEl.addEventListener("click",f),c.refs.galleryEl.addEventListener("click",d.onGalleryContainerClick);const i=new(0,l.MovieApi),g=(0,r.getOnLocalStorage)(s.localStorageKeyQueue)||[];(0,r.getOnLocalStorage)(s.localStorageKeyWatched);async function u(e){try{const t=(await async function(e){const t=e.map((async e=>{i.id=e;return await i.fetchMovieById()}));return await Promise.all(t)}(e)).map((e=>e.data)),a=t.map((e=>e.genres.map((e=>e.id||[]))));t.map(((e,t)=>e.genre_ids=a[t]));c.refs.galleryEl.innerHTML=(0,n.makeMarkup)(t)}catch(e){console.log(e.message)}}function f(e){"BUTTON"===e.target.nodeName&&(test=e.target.dataset.action,console.log("event",e.target.dataset.action),console.log("const test: ",test),"watched"===e.target.dataset.action?(u((0,r.getOnLocalStorage)(s.localStorageKeyWatched)),c.refs.btnGelleryWatchedEl.classList.add("active"),c.refs.btnGelleryQueueEl.classList.remove("active")):(e.target.dataset.action,u((0,r.getOnLocalStorage)(s.localStorageKeyQueue)),c.refs.btnGelleryQueueEl.classList.add("active"),c.refs.btnGelleryWatchedEl.classList.remove("active")))}0!==g.length?u(g):console.log("no queue"),c.refs.btnHeaderEl.addEventListener("click",f),d.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&(0,d.closeModal)()})),document.addEventListener("keydown",(function(e){"Escape"===e.code&&(0,d.closeModal)()}));
//# sourceMappingURL=library.f2374fc0.js.map
